---

layout: customPost
title:  "TDD"
categories: 
  - Development Base
  - TDD
---
### TDD

테스트 주도 개발 : 켄트백

- 개발자가 자기 작업의 품질에 대한 우선적 책임을 져야한다. (데밍 W.E Deming)

- 뜰에 들어서기도 전에 돌부리에 넘어지거나 다친 사람의 이야기를 듣고는 겁을 먹고 포기하지마라.

- TDD를 쫒지말고 TDD가 자신을 따라오게 해라.

- TDD는 과정을 하나하나 따라가면서 익혀야 된다.

- TDD수련법

  ​		`STEP-1`

  - 간단하고 쉬운 문제를 가지고 TDD를 시도해라.

  - RED에서 GREEN으로 가능한 빨리 바뀌도록 해라.

  - RED -> GREEN으로 가는 최대 시간을 정해 놓고 시간을 초과하면 원복하고 다시 시작해라.

  - 동일한 문제를 여러번 시도 해보고 그 결과를 비교하여 동일한것과 다른것을 찾고 배움을 얻어라.

  - 초기에는 리팩토링 툴을 사용하지말고 순서와 과정을 익혀라.

    `STEP-2`

  - 자신이 하는 것을 관찰하고 기록하고 분석해라.

  - 프로토콜 분석(protocol analysis): 사고과정 중 생각한 것을 직접 입으로 말하도록 하면서 진행하고 이를 녹음한 것을 분석하는 것을 말한다.

  - 일주일 정도의 작은 애플리케이션 하나를 오로지 TDD로 완성 해보자.

    `STEP-3`

  - TDD를 사용하지 않고 이전에 연습한 문제를 시도해보고 TDD방식과 장단점을 비교해보자.
  - 세계 대학생 프로그래밍 경진대회(ICPC) 문제 등 알고리즘 중심의 문제, 자동판매기 테스터(인터랙티브 쉘(shell) 포함), 계산기, 엘레베이터 시뮬레이션, 웹 게시판, 멀티 채팅 프로그램 등을  순수하게 TDD로 풀어보고 분석해라.

- 개발환경은 작은 변화에도 빠르게 반응할 수 있어야 한다.

- 테스트를 쉽게 만들려면 반드시 응집도는 높고 결합도는 낮은 컴포넌트들로 구성되게끔 설계해야 한다.

- TDD 사이클    RED -> GREEN -> Refactoring

  - RED: 실패하는 작은 테스트를 작성한다.
- GREEN: 빨리 통과하게끔 만든다. 코드를 대충 짜도된다.
  - Refactoring: 일단 테스트를 통과하게만 하는 와중에 생겨난 중복이나 불필요한 코드를 제거 한다.

- GEEN 전략

  - 가짜로 구현하기: 상수를 반환하게 만들고 진짜 코드를 얻을 때까지 단계적으로 상수를 변수로 바꾸어 나간다.

  - 명백한 구현 사용하기: 실제 구현을 입력한다.

  - 삼각측량(triangulation)

    두 수신국이 신호를 감지하고 있을때 수신국 사이의 거리가 알려져 있고 각 수신국이 신호의 방향을 알고 있다면, 신호의 거리와 방위를 알 수 있다.

    즉, 두 개의 코드를 가지고 3번째 코드를 유추하는 기법인가? ( 내 생 각 )

- 테스트 작성->컴파일->실패확인->실행하게 만듬 4단계를 빠르게 진행 후에 리팩토링을 해라.
- 테스트 코드가 제대로 작성되지 않은 상태에서 리팩토링을 시도하다가 실패하면 리팩토링에 대해 안좋은 느낌을 갖게 되고 리팩토링을 멀리하면 설계의 질이 저하된다.
- 하던 일을 중단하고 다른 일을 하는 상태에서 그 일을 또 중단하지는 않는다(짐 코플린, Jim Coplien)

- 5분이상 고민할 문제를 테스트를 돌려 컴퓨터에게 물어보면 10초 정도의 시간으로 해결될 수도 있다.

- TDD는 확신을 주는 테스트와 정리된 코드를 통해 통찰에 대한 준비를 할 수 있다.

- TDD가 성능 테스트, 스트레스 테스트, 사용성 테스트를 대체하진 않는다.



- 다중 통화 산술 예제

  - 작은 단위로 작업하는 연습을 해야 한다. 

  - 필요한 모든 요소가 담긴 인터페이스를 개발해라.

  - 깔끔하고 단순한 해법이 명백히 보인다면 그것을 입력하라. 

    단 입력하는데 몇분이 걸린다면 메모하고 간단하게 GEEN을 볼 수 있는 것부터 처리해라.

  - 일단 먼저 작동하게 하고 깔끔하게 리펙토링해라.

  - 상수를 임시로 사용하여 작동하게 한 다음 상수를 변수로 바꾸어 간다.

  - 어떤 정수에 숫자를 더하면 보통 더해진 새로운 값을 갖게 될 것을 예상하지만 일반 객체는 객체 자체가 변할 수 있다.

  - 객체를 값처럼 쓸 수 있는데 이것을 값 객체 패턴(value object pattern)이라고 한다. 

    값 객체 패턴의 특징

    -  객체의 인스턴스 변수가 생성자를 통해서 설정되면 결코 변하지 않는다.
    - 모든 연산은 새 객체를 반환 해야 한다.
    - equals()를 구현해야 한다.

  - TDD는 완벽함을 위해 노력하지 않는다. 자신감을 가지고 전진할 수 있을 만큼의 결함의 정도를 낮추기를 희망할 뿐이다.
  - 우리의 추론이 맞지 않아서 결함이 손가락 사이로 빠져나가는 수가 있다.

  